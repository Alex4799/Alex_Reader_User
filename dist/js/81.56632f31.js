"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[81],{823:function(t,e,a){a.d(e,{Ip:function(){return p}});var s=a(252),i=a(577);const l={emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},keepLength:{type:Boolean,default:!1}},computed:{isApiResource(){return!!this.data.meta},currentPage(){return this.isApiResource?this.data.meta.current_page:this.data.current_page},firstPageUrl(){return this.isApiResource?this.data.links.first:null},from(){return this.isApiResource?this.data.meta.from:this.data.from},lastPage(){return this.isApiResource?this.data.meta.last_page:this.data.last_page},lastPageUrl(){return this.isApiResource?this.data.links.last:null},nextPageUrl(){return this.isApiResource?this.data.links.next:this.data.next_page_url},perPage(){return this.isApiResource?this.data.meta.per_page:this.data.per_page},prevPageUrl(){return this.isApiResource?this.data.links.prev:this.data.prev_page_url},to(){return this.isApiResource?this.data.meta.to:this.data.to},total(){return this.isApiResource?this.data.meta.total:this.data.total},pageRange(){if(-1===this.limit)return 0;if(0===this.limit)return this.lastPage;for(var t,e=this.currentPage,a=this.keepLength,s=this.lastPage,i=this.limit,l=e-i,n=e+i,o=2*(i+2),r=2*(i+2)-1,d=[],g=[],u=1;u<=s;u++)(1===u||u===s||u>=l&&u<=n||a&&u<o&&e<o-2||a&&u>s-r&&e>s-r+2)&&d.push(u);return d.forEach((function(e){t&&(e-t===2?g.push(t+1):e-t!==1&&g.push("...")),g.push(e),t=e})),g}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(t){"..."===t||t===this.currentPage||this.$emit("pagination-change-page",t)}},render(){return this.$slots.default({data:this.data,limit:this.limit,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:t=>{t.preventDefault(),this.previousPage()}},nextButtonEvents:{click:t=>{t.preventDefault(),this.nextPage()}},pageButtonEvents:t=>({click:e=>{e.preventDefault(),this.selectPage(t)}})})}},n=(t,e)=>{const a=t.__vccOpts||t;for(const[s,i]of e)a[s]=i;return a};Boolean,Boolean;const o={compatConfig:{MODE:3},inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessPagination:l},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},keepLength:{type:Boolean,default:!1},size:{type:String,default:"default",validator:t=>-1!==["small","default","large"].indexOf(t)},align:{type:String,default:"left",validator:t=>-1!==["left","center","right"].indexOf(t)}},methods:{onPaginationChangePage(t){this.$emit("pagination-change-page",t)}}},r=["tabindex"],d=(0,s._)("span",{"aria-hidden":"true"},"«",-1),g=["aria-current"],u=["tabindex"],h=(0,s._)("span",{"aria-hidden":"true"},"»",-1);function c(t,e,a,l,n,o){const c=(0,s.up)("RenderlessPagination");return(0,s.wg)(),(0,s.j4)(c,{data:a.data,limit:a.limit,"keep-length":a.keepLength,onPaginationChangePage:o.onPaginationChangePage},{default:(0,s.w5)((e=>[e.computed.total>e.computed.perPage?((0,s.wg)(),(0,s.iD)("ul",(0,s.dG)({key:0},t.$attrs,{class:["pagination",{"pagination-sm":"small"==a.size,"pagination-lg":"large"==a.size,"justify-content-center":"center"==a.align,"justify-content-end":"right"==a.align}]}),[e.computed.prevPageUrl||a.showDisabled?((0,s.wg)(),(0,s.iD)("li",{key:0,class:(0,i.C_)(["page-item pagination-prev-nav",{disabled:!e.computed.prevPageUrl}])},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#","aria-label":"Previous",tabindex:!e.computed.prevPageUrl&&-1},(0,s.mx)(e.prevButtonEvents,!0)),[(0,s.WI)(t.$slots,"prev-nav",{},(()=>[d]))],16,r)],2)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.computed.pageRange,((t,a)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item pagination-page-nav",{active:t==e.computed.currentPage}]),key:a},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#"},(0,s.mx)(e.pageButtonEvents(t),!0),{"aria-current":t==e.computed.currentPage?"page":null}),(0,i.zw)(t),17,g)],2)))),128)),e.computed.nextPageUrl||a.showDisabled?((0,s.wg)(),(0,s.iD)("li",{key:1,class:(0,i.C_)(["page-item pagination-next-nav",{disabled:!e.computed.nextPageUrl}])},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#","aria-label":"Next",tabindex:!e.computed.nextPageUrl&&-1},(0,s.mx)(e.nextButtonEvents,!0)),[(0,s.WI)(t.$slots,"next-nav",{},(()=>[h]))],16,u)],2)):(0,s.kq)("",!0)],16)):(0,s.kq)("",!0)])),_:3},8,["data","limit","keep-length","onPaginationChangePage"])}const p=n(o,[["render",c]]);Boolean},81:function(t,e,a){a.r(e),a.d(e,{default:function(){return K}});var s=a(252),i=a(577),l=a(963);const n={class:"container py-5"},o={key:0,class:"text-center my-3"},r=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),d=[r],g=(0,s._)("i",{class:"fa-solid fa-plus"},null,-1),u={class:"row text-center"},h={class:"col-md-4 py-2"},c={class:"col-md-4 py-2"},p={class:"col-md-4 py-2"},m={class:"input-group mb-3"},P={class:"row"},_={class:"col-lg-2"},f={class:"table"},v=(0,s._)("a",null,"All",-1),y=[v],x=(0,s._)("td",null,[(0,s._)("a",{id:"0"},"Trend Post")],-1),k=[x],w=["id"],b={class:"col-lg-8"},C={class:"row"},$={class:"col-lg-3"},D=["src"],U={class:"col-lg-9"},A=["onClick"],R={class:"text-muted"},S={href:"#"},B={class:"text-muted"},z={key:0,href:"#"},E=["innerHTML"],Y={class:"row"},L={class:""},F={class:"btn btn-light"},M={href:"#"},O=(0,s._)("i",{class:"fa-solid fa-eye me-2"},null,-1);function j(t,e,a,r,v,x){const j=(0,s.up)("Bootstrap5Pagination");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[v.loadingStatus?((0,s.wg)(),(0,s.iD)("div",o,d)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("a",{onClick:e[0]||(e[0]=(...t)=>x.AddPostPage&&x.AddPostPage(...t)),class:"btn btn-secondary float-lg-end"},[g,(0,s.Uk)("Add Post")])]),(0,s._)("div",u,[(0,s._)("div",h,"Search Key - "+(0,i.zw)(v.search_key),1),(0,s._)("div",c,"Total - "+(0,i.zw)(v.postCount),1),(0,s._)("div",p,[(0,s._)("div",m,[(0,s.wy)((0,s._)("input",{type:"text",name:"search_key",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>v.search_key=t),placeholder:"Enter Author Name","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[l.nr,v.search_key]]),(0,s._)("button",{class:"btn btn-secondary",id:"button-addon2",onClick:e[2]||(e[2]=(...t)=>x.postSearch&&x.postSearch(...t)),type:"button"},"Search")])])]),(0,s._)("div",P,[(0,s._)("div",_,[(0,s._)("table",f,[(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",{onClick:e[3]||(e[3]=t=>x.getPost())},y)]),(0,s._)("tr",{onClick:e[4]||(e[4]=(...t)=>x.postCategory&&x.postCategory(...t))},k),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.categories,((t,a)=>((0,s.wg)(),(0,s.iD)("tr",{key:a,onClick:e[5]||(e[5]=(...t)=>x.postCategory&&x.postCategory(...t))},[(0,s._)("td",null,[(0,s._)("a",{id:t.id},(0,i.zw)(t.name),9,w)])])))),128))])])]),(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.allPost.data,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"shadow my-2 p-5",key:e},[(0,s._)("div",C,[(0,s._)("div",$,[(0,s._)("img",{src:t.image,class:"w-100 card-img"},null,8,D)]),(0,s._)("div",U,[(0,s._)("h4",{class:"",onClick:e=>x.toPostDetail(t.id)},(0,i.zw)(t.Title),9,A),(0,s._)("h5",R,[(0,s.Uk)("by "),(0,s._)("a",S,(0,i.zw)(t.user_name),1)]),(0,s._)("p",B,(0,i.zw)(t.created_at),1),(0,s._)("p",null,[null!=t.playlist_id?((0,s.wg)(),(0,s.iD)("a",z,"("+(0,i.zw)(t.playlist_name)+")",1)):(0,s.kq)("",!0)]),(0,s._)("p",{class:"",innerHTML:t.content.substr(0,100)},null,8,E),(0,s._)("div",Y,[(0,s._)("div",L,[(0,s._)("div",F,[(0,s._)("a",M,(0,i.zw)(t.category_name),1)]),(0,s._)("span",null,[O,(0,s.Uk)((0,i.zw)(t.view_count),1)])])])])])])))),128)),(0,s.Wm)(j,{data:v.allPost,onPaginationChangePage:x.getPost},null,8,["data","onPaginationChangePage"])])])])])}var q=a(823),H=a(154),T=a(907),Z={name:"PostPage",data(){return{allPost:{},categories:{},loadingStatus:!0,search_key:"",postCount:0}},computed:{...(0,T.rn)(["header","user"])},components:{Bootstrap5Pagination:q.Ip},methods:{getPost(t=1){this.loadingStatus=!0,H.Z.get(`https://alexmedia.alexlucifer.com/api/user/post/get?page=${t}`,{headers:this.header}).then((t=>{this.allPost=t.data;for(let e=0;e<this.allPost.data.length;e++){null!=this.allPost.data[e].image?this.allPost.data[e].image=`https://alexmedia.alexlucifer.com/storage/${this.allPost.data[e].image}`:this.allPost.data[e].image="https://alexmedia.alexlucifer.com/image/default.png";let t=new Date(this.allPost.data[e].created_at);this.allPost.data[e].created_at=`${t.getFullYear()}-${t.getMonth()+1}-${t.getFullYear()}`}this.loadingStatus=!1,this.postCount=t.data.total}))},getCategory(){H.Z.get("https://alexmedia.alexlucifer.com/api/user/category/get",{headers:this.header}).then((t=>{this.categories=t.data}))},postCategory(t){this.loadingStatus=!0;let e=t.target.id;0!=e?H.Z.get(`https://alexmedia.alexlucifer.com/api/user/post/get/category/${e}`,{headers:this.header}).then((t=>{this.allPost=t.data;for(let e=0;e<this.allPost.data.length;e++){null!=this.allPost.data[e].image?this.allPost.data[e].image=`https://alexmedia.alexlucifer.com/storage/${this.allPost.data[e].image}`:this.allPost.data[e].image="https://alexmedia.alexlucifer.com/image/default.png";let t=new Date(this.allPost.data[e].created_at);this.allPost.data[e].created_at=`${t.getFullYear()}-${t.getMonth()+1}-${t.getFullYear()}`}this.loadingStatus=!1,this.postCount=t.data.total})):(this.allPost.data=this.allPost.data.sort(((t,e)=>e.view_count-t.view_count)),this.loadingStatus=!1)},postSearch(t=1){this.loadingStatus=!0,""!=this.search_key&&H.Z.get(`https://alexmedia.alexlucifer.com/api/user/post/get/search/${this.search_key}?page=${t}`,{headers:this.header}).then((t=>{this.allPost=t.data;for(let e=0;e<this.allPost.data.length;e++){null!=this.allPost.data[e].image?this.allPost.data[e].image=`https://alexmedia.alexlucifer.com/storage/${this.allPost.data[e].image}`:this.allPost.data[e].image="https://alexmedia.alexlucifer.com/image/default.png";let t=new Date(this.allPost.data[e].created_at);this.allPost.data[e].created_at=`${t.getFullYear()}-${t.getMonth()+1}-${t.getFullYear()}`}this.loadingStatus=!1,this.postCount=t.data.total})),this.loadingStatus=!1},AddPostPage(){this.$router.push({name:"AddPost"})},toPostDetail(t){this.$router.push({path:`/post/detail/${t}`})}},mounted(){this.getPost(),this.getCategory()}},G=a(744);const I=(0,G.Z)(Z,[["render",j]]);var K=I}}]);
//# sourceMappingURL=81.56632f31.js.map