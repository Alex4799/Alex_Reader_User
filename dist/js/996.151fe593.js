"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[996],{996:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var a=s(252),l=s(963),i=s(194);const n={class:"py-5 row container-fluid"},o={class:"p-5 container shadow col-lg-6 offset-lg-3"},r=(0,a.uE)('<div class="row"><div class="col-lg-3 offset-lg-3"><img class="w-100 rounded-circle" src="'+i+'" alt=""></div><div class="col-lg-5"><div class="pt-3 text-center"><h1 class="font-monospace">Alex</h1><h6 class="font-monospace">M e d i a C o m p a n y</h6></div></div></div><h3 class="text-center py-3">Login to Our Website</h3>',2),d={key:0,class:"text-center my-3"},c=(0,a._)("div",{class:"spinner-border",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),u=[c],g=(0,a._)("div",{id:"error"},null,-1),m={class:"py-2"},p=(0,a._)("label",{for:""},"Email",-1),h={class:"py-2"},f=(0,a._)("label",{for:""},"Password",-1),v={class:"py-2"},y={class:"py-2"},b={class:"d-flex justify-content-end",id:"loginBtnContainer"};function w(e,t,s,i,c,w){const _=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",o,[r,c.loadingStatus?((0,a.wg)(),(0,a.iD)("div",d,u)):(0,a.kq)("",!0),g,(0,a._)("div",null,[(0,a._)("div",m,[p,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>c.userData.email=e),class:"form-control my-2",name:"email",id:"email",placeholder:"Enter your email ....."},null,512),[[l.nr,c.userData.email]])]),(0,a._)("div",h,[f,(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>c.userData.password=e),class:"form-control my-2",name:"password",id:"password",placeholder:"Enter your password ....."},null,512),[[l.nr,c.userData.password]])]),(0,a._)("div",v,[(0,a.Wm)(_,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)("You Don't have an account?")])),_:1})]),(0,a._)("div",y,[(0,a._)("div",b,[(0,a._)("input",{onClick:t[2]||(t[2]=(...e)=>w.validation&&w.validation(...e)),type:"button",id:"loginBtn",value:"Login",class:"btn btn-primary justify-start"})])])])])])}var _=s(154),k=s(907),S={name:"LoginPage",data(){return{userData:{email:"",password:""},error:{email:!1,password:!1},loginFail:!1,loginSuccess:!1,loadingStatus:!1}},computed:{...(0,k.Se)(["getToken","getUser"])},methods:{login(){this.loadingStatus=!0,_.Z.post("https://alexmedia.alexlucifer.com/api/user/login",this.userData).then((e=>{if(null!=e.data.token)this.loginSuccess=!0,this.loginFail=!1,localStorage.setItem("token",e.data.token),this.$store.dispatch("setToken",e.data.token),this.$store.dispatch("setUser",e.data.user),this.$router.push({name:"profile"});else{this.loginFail=!0,this.loginSuccess=!1,this.loadingStatus=!1;let t=`            \n                        <div class="alert alert-danger alert-dismissible fade show" v-if="loginFail" role="alert">\n                            ${e.data.message}!!!\n                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                        </div>`;document.getElementById("error").innerHTML=t}}))},validation(){if(this.loadingStatus=!0,""==this.userData.email){document.getElementById("loginBtnContainer").classList.toggle("justify-content-end");let e='            \n                <div class="alert alert-danger alert-dismissible fade show" role="alert">\n                    Email field is required !!!!\n                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                </div>';document.getElementById("error").innerHTML=e,this.loadingStatus=!1}else if(""==this.userData.password){document.getElementById("loginBtnContainer").classList.toggle("justify-content-end");let e='            \n                <div class="alert alert-danger alert-dismissible fade show" v-if="loginFail" role="alert">\n                    Password field is required !!!!\n                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                </div>';document.getElementById("error").innerHTML=e,this.loadingStatus=!1}else this.login()}}},x=s(744);const D=(0,x.Z)(S,[["render",w]]);var C=D},194:function(e,t,s){e.exports=s.p+"img/lucifer.d1545ccd.jpg"}}]);
//# sourceMappingURL=996.151fe593.js.map