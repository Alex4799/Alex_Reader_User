"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[102],{102:function(e,s,t){t.r(s),t.d(s,{default:function(){return W}});var a=t(252),l=t(577),i=t(963);const n={class:"container py-5"},d={key:0,class:"text-center my-3"},c=(0,a._)("div",{class:"spinner-border",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),r=[c],o=(0,a._)("h1",{class:"text-center mb-5"},"Message List",-1),u=(0,a._)("i",{class:"fa-solid fa-plus"},null,-1),h={class:"row text-center"},g={class:"col-md-4 py-2"},_={class:"col-md-4 py-2"},p={class:"col-md-4 py-2"},y={class:"input-group mb-3"},m={class:"dropdown"},w={class:"btn btn-secondary dropdown-toggle text-capitalize",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},k={class:"dropdown-menu"},b={key:1,class:"table rounded"},v=(0,a._)("thead",null,[(0,a._)("tr",{class:"text-center py-3"},[(0,a._)("th",null,"Id"),(0,a._)("th",null,"Title"),(0,a._)("th",null,"Sent Email"),(0,a._)("th",null,"Receive Email"),(0,a._)("th",null,"Message"),(0,a._)("th")])],-1),f={key:0,class:"text-center bg-secondary text-white"},S={key:0,class:"py-5"},x={key:1,class:"py-5"},z=(0,a._)("i",{class:"fa-solid fa-reply me-2"},null,-1),D={class:"py-5"},M={class:"py-5"},C={class:"py-5"},q={class:"py-5"},E={class:"py-5"},V=["onClick"],$=(0,a._)("i",{class:"fa-solid fa-eye"},null,-1),U=[$],L={key:1,class:"text-center"},R={key:0,class:"py-5"},Z={key:1,class:"py-5"},K=(0,a._)("i",{class:"fa-solid fa-reply me-2"},null,-1),T={class:"py-5"},A={class:"py-5"},H={class:"py-5"},I={class:"py-5"},N={class:"py-5"},P=["onClick"],Y=(0,a._)("i",{class:"fa-solid fa-eye"},null,-1),j=[Y];function B(e,s,t,c,$,Y){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",n,[$.loadingStatus?((0,a.wg)(),(0,a.iD)("div",d,r)):(0,a.kq)("",!0),o,(0,a._)("div",null,[(0,a._)("a",{onClick:s[0]||(s[0]=(...e)=>Y.goSendMessage&&Y.goSendMessage(...e)),class:"btn btn-secondary float-lg-end"},[u,(0,a.Uk)("Sent Message")])]),(0,a._)("div",h,[(0,a._)("div",g,"Search Key - "+(0,l.zw)($.search_key),1),(0,a._)("div",_,"Total - "+(0,l.zw)($.total),1),(0,a._)("div",p,[(0,a._)("div",y,[(0,a.wy)((0,a._)("input",{type:"text",name:"search_key",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>$.search_key=e),placeholder:"Enter Author Name","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[i.nr,$.search_key]]),(0,a._)("input",{class:"btn btn-secondary",type:"submit",onClick:s[2]||(s[2]=(...e)=>Y.searchMessage&&Y.searchMessage(...e)),id:"button-addon2",value:"Search"})])])]),(0,a._)("div",null,[(0,a._)("div",m,[(0,a._)("button",w,(0,l.zw)($.status)+" Email ",1),(0,a._)("ul",k,[(0,a._)("li",null,[(0,a._)("a",{class:"dropdown-item",onClick:s[3]||(s[3]=e=>Y.changeStatus("receive"))},"Receive Email")]),(0,a._)("li",null,[(0,a._)("a",{class:"dropdown-item",onClick:s[4]||(s[4]=e=>Y.changeStatus("sent"))},"Sent Email")])])])]),$.loadingStatus?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("table",b,[v,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.messages,((e,s)=>((0,a.wg)(),(0,a.iD)("tbody",{key:s},[0==e.status?((0,a.wg)(),(0,a.iD)("tr",f,[0==e.reply_id?((0,a.wg)(),(0,a.iD)("td",S,(0,l.zw)(e.id),1)):(0,a.kq)("",!0),0!=e.reply_id?((0,a.wg)(),(0,a.iD)("td",x,[z,(0,a.Uk)((0,l.zw)(e.id),1)])):(0,a.kq)("",!0),(0,a._)("td",D,(0,l.zw)(e.title),1),(0,a._)("td",M,(0,l.zw)(e.sent_email),1),(0,a._)("td",C,(0,l.zw)(e.receive_email),1),(0,a._)("td",q,(0,l.zw)(e.content.substr(0,100)+"...."),1),(0,a._)("td",E,[(0,a._)("a",{onClick:s=>Y.goViewMessage(e.id),class:"btn btn-light rounded-circle me-2",title:"View"},U,8,V)])])):(0,a.kq)("",!0),0!=e.status?((0,a.wg)(),(0,a.iD)("tr",L,[0==e.reply_id?((0,a.wg)(),(0,a.iD)("td",R,(0,l.zw)(e.id),1)):(0,a.kq)("",!0),0!=e.reply_id?((0,a.wg)(),(0,a.iD)("td",Z,[K,(0,a.Uk)((0,l.zw)(e.id),1)])):(0,a.kq)("",!0),(0,a._)("td",T,(0,l.zw)(e.title),1),(0,a._)("td",A,(0,l.zw)(e.sent_email),1),(0,a._)("td",H,(0,l.zw)(e.receive_email),1),(0,a._)("td",I,(0,l.zw)(e.content.substr(0,100)+"...."),1),(0,a._)("td",N,[(0,a._)("a",{onClick:s=>Y.goViewMessage(e.id),class:"btn btn-light rounded-circle me-2",title:"View"},j,8,P)])])):(0,a.kq)("",!0)])))),128))]))])])}var F=t(154),G=t(907),J={name:"ListPage",data(){return{messages:{},status:"receive",loadingStatus:!1,total:0,search_key:""}},computed:{...(0,G.rn)(["user","header"])},methods:{getData(){this.loadingStatus=!0,F.Z.get(`https://alexmedia.alexlucifer.com/api/user/message/list/${this.user.email}/${this.status}`,{headers:this.header}).then((e=>{this.messages=e.data,this.total=this.messages.length,this.loadingStatus=!1}))},changeStatus(e){this.status=e,this.getData()},searchMessage(){let e={email:this.user.email,status:this.status,search_key:this.search_key};this.loadingStatus=!0,F.Z.post("https://alexmedia.alexlucifer.com/api/user/message/list/search",e,{headers:this.header}).then((e=>{this.messages=e.data,this.total=this.messages.length,this.loadingStatus=!1}))},goSendMessage(){this.$router.push({path:"/send/message/0"})},goViewMessage(e){this.$router.push({path:`/view/message/${e}`})}},mounted(){this.getData()}},O=t(744);const Q=(0,O.Z)(J,[["render",B]]);var W=Q}}]);
//# sourceMappingURL=102.ad3dacf3.js.map