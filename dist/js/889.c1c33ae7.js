"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[889],{889:function(t,e,a){a.r(e),a.d(e,{default:function(){return Y}});var o=a(252),l=a(963),s=a(577),i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAANlBMVEX////BwcHy8vK+vr7Pz8/j4+PU1NTIyMjw8PDFxcX19fX7+/vZ2dnLy8ve3t74+Pjp6eni4uJFFKtXAAADj0lEQVR4nO2d4ZqqIBBAM9pcNbPe/2VvbXQ3lQE1ZaA95/focsJBBvDb3Q4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACWUu+TYRvBs0mHttlAsDZFOpjTBob7pAyPGGKIoTYYYoihPhiuYKgwF41sePqKThXV0GxUv/go4xp+b/AXAmD4NhhuDoZvg+HmYPg2mxo2dd2FYjI27M7tfZ5bHS/esHwNT4W9szGtbzKYq2HX9u7r6cZMDZuqX3aaLzE0U8N2WFfLVUuehpfxwkEpxeZpWA39PKmYpeG3a+3nIARnaXhyrm4Je4NZGh5cgtJYk6Vh6zQU7o3h28R7Smt3cJaGZ9dIU33SSOPaKRAbn6WhKxHFW+dpOO5EI73wMzV0vPPFs0CZGu4OA0W5Bs7VsNeLpvIU+dka7r7Lx96gMebsi8vX8OZ4asuqPF78x/EiG4b2Dxv/utkSEuvDg/+JW0JahrfpmG/ZbBFJGf7U7mvvhKdk2DyWX6Qp9EJSMrRvcXkCtoiEDK9mk3akY/gS6FnBnk8yhk01LW42yRgee1PpKrgtOJlUDK/9WsGIi/SzScRwVNKu15ZEDMcbEea6UgPSMDyOSnb/rucckjD8cp+yFRZAZ5JC9SR9GjVttAl1dQp96NgNfERPmb4dTOsPSMDQlYQ2PFgsNu2t3vIr6hsKSfiIDzyC9c+BBX9fqxsGvk/0jjb75219iuqGUhI+8RSLv+cVfIrahnISBtv+OtHzNF3Z0HFsZKgofdjaX9iX265rWIf8CrFYHHa++EvoGpbFBFwDcDM6FCUqqhqGkvDJaLTpKtdE1q2oaRhOQnvV8JW+dw/A7gmCouGUJHQ2zHkk6ifOVXEpGk5KQkfTPZMgl6KeofvoltT03wudBzH+x40HXjXDqUn45Lk0FRidxjNZLcNu7qeltlgc7m6HFbUMZyShvfQ+fevK8A8zVFQynJWE9tqzLZaCgf2Xrs4qxtwktIpTA3uKKn04Ownt1ZMDpZdSNEPn6clVeVnx0jBckISz+V0bUDBclITLFeMbdjH8iqJ6KsY33D4JrWKnZBgjCa1io2G4j5OEr4pxDYtLaPFwTUzZxDeMKWh3kiMbRua+/vHZhnfFDze8FV2fbtgHQwwx1AdDDDHUB0MMMdQHQwz/qGFnElJc/9u/O5dDOmzxrxEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+CP8ALuE/mVwZmloAAAAASUVORK5CYII=";const r={class:"container py-5"},n=(0,o._)("h1",{class:"text-center"},"Add Post",-1),d={key:0,class:"text-center my-3"},c=(0,o._)("div",{class:"spinner-border",role:"status"},[(0,o._)("span",{class:"visually-hidden"},"Loading...")],-1),u=[c],A={class:"shadow p-5 row"},p={class:"col-4"},g=(0,o._)("img",{src:i,class:"w-75 shadow"},null,-1),h={class:"col-8"},m={class:"mb-3 row"},y=(0,o._)("label",{class:"col-sm-3 col-form-label"},"Title",-1),D={class:"col-sm-9"},v={key:2,class:"text-danger"},w={class:"mb-3 row"},f=(0,o._)("label",{class:"col-sm-3 col-form-label"},"Category",-1),k={class:"col-sm-9"},_=(0,o._)("option",{value:"null"},"Choose Category",-1),b=["value","id"],E=(0,o._)("option",{value:"null"},"Choose Category",-1),x=["value","id"],P={key:2,class:"text-danger"},Z={class:"mb-3 row"},C=(0,o._)("label",{class:"col-sm-3 col-form-label"},"PlayList",-1),K={class:"col-sm-9"},q=(0,o._)("option",{value:"null"},"Choose PlayList",-1),U=["value","id"],V={class:"mb-3 row"},F={key:0,class:"text-danger"},S={class:"float-end"},M=(0,o._)("i",{class:"fa-solid fa-plus me-2"},null,-1);function H(t,e,a,i,c,H){const G=(0,o.up)("ckeditor");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",r,[n,c.loadingStatus?((0,o.wg)(),(0,o.iD)("div",d,u)):(0,o.kq)("",!0),(0,o._)("div",A,[(0,o._)("div",p,[(0,o._)("div",null,[g,(0,o._)("input",{name:"image",type:"file",class:"form-control my-4",onChange:e[0]||(e[0]=(...t)=>H.uploadPhoto&&H.uploadPhoto(...t))},null,32)])]),(0,o._)("div",h,[(0,o._)("div",m,[y,(0,o._)("div",D,[c.titleError?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,name:"title",type:"text",class:"form-control",placeholder:"Enter title","onUpdate:modelValue":e[1]||(e[1]=t=>c.postData.title=t)},null,512)),[[l.nr,c.postData.title]]),c.titleError?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,name:"title",type:"text",class:"form-control is-invalid",placeholder:"Enter title","onUpdate:modelValue":e[2]||(e[2]=t=>c.postData.title=t)},null,512)),[[l.nr,c.postData.title]]):(0,o.kq)("",!0),c.titleError?((0,o.wg)(),(0,o.iD)("span",v,"Title is required")):(0,o.kq)("",!0)])]),(0,o._)("div",w,[f,(0,o._)("div",k,[c.categoryError?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:0,name:"category_id",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=t=>c.postData.category_id=t)},[_,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.categories,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:t.id,id:t.id},(0,s.zw)(t.name),9,b)))),128))],512)),[[l.bM,c.postData.category_id]]),c.categoryError?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:1,name:"category_id",class:"form-control is-invalid","onUpdate:modelValue":e[4]||(e[4]=t=>c.postData.category_id=t)},[E,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.categories,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:t.id,id:t.id},(0,s.zw)(t.name),9,x)))),128))],512)),[[l.bM,c.postData.category_id]]):(0,o.kq)("",!0),c.categoryError?((0,o.wg)(),(0,o.iD)("span",P,"Category is required")):(0,o.kq)("",!0)])]),(0,o._)("div",Z,[C,(0,o._)("div",K,[(0,o.wy)((0,o._)("select",{name:"category_id",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=t=>c.postData.playlist_id=t)},[q,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.playlists,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:t.id,id:t.id},(0,s.zw)(t.name),9,U)))),128))],512),[[l.bM,c.postData.playlist_id]])])]),(0,o._)("div",V,[(0,o.Wm)(G,{editor:c.editor,modelValue:c.postData.content,"onUpdate:modelValue":e[6]||(e[6]=t=>c.postData.content=t),config:c.editorConfig},null,8,["editor","modelValue","config"]),c.contentError?((0,o.wg)(),(0,o.iD)("span",F,"Content is required")):(0,o.kq)("",!0)]),(0,o._)("div",S,[(0,o._)("button",{class:"btn btn-secondary",type:"button",onClick:e[7]||(e[7]=(...t)=>H.upload&&H.upload(...t))},[M,(0,o.Uk)("Create")])])])])])])}var G=a(907),z=a(154),B=a(234),I=a.n(B),J={name:"AddPostPage",data(){return{editor:I(),editorData:"<p>Content of the editor.</p>",editorConfig:{},loadingStatus:!1,titleError:!1,categoryError:!1,contentError:!1,categories:{},playlists:{},postData:{title:"",category_id:null,playlist_id:null,content:"",image:null,user_id:null}}},computed:{...(0,G.rn)(["header","user"])},methods:{getCategory(){z.Z.get("https://alexmedia.alexlucifer.com/api/user/category/get",{headers:this.header}).then((t=>{this.categories=t.data}))},getMyPlaylist(){z.Z.get(`https://alexmedia.alexlucifer.com/api/user/playlist/get/${this.user.id}`,{headers:this.header}).then((t=>{this.playlists=t.data}))},uploadPhoto(t){this.postData.image=t.target.files[0]},upload(){this.loadingStatus=!0,""==this.postData.title?(this.titleError=!0,this.loadingStatus=!1):null==this.postData.category_id?(this.categoryError=!0,this.loadingStatus=!1):""==this.postData.content?(this.contentError=!0,this.loadingStatus=!1):(this.postData.user_id=this.user.id,z.Z.post("https://alexmedia.alexlucifer.com/api/user/post/add",this.postData,{headers:this.header}).then((()=>{this.$router.push({name:"post"})})))}},mounted(){this.getCategory(),this.getMyPlaylist()}},O=a(744);const X=(0,O.Z)(J,[["render",H]]);var Y=X}}]);
//# sourceMappingURL=889.c1c33ae7.js.map