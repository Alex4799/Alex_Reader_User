"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[304],{823:function(e,t,a){a.d(t,{Ip:function(){return p}});var i=a(252),s=a(577);const n={emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},keepLength:{type:Boolean,default:!1}},computed:{isApiResource(){return!!this.data.meta},currentPage(){return this.isApiResource?this.data.meta.current_page:this.data.current_page},firstPageUrl(){return this.isApiResource?this.data.links.first:null},from(){return this.isApiResource?this.data.meta.from:this.data.from},lastPage(){return this.isApiResource?this.data.meta.last_page:this.data.last_page},lastPageUrl(){return this.isApiResource?this.data.links.last:null},nextPageUrl(){return this.isApiResource?this.data.links.next:this.data.next_page_url},perPage(){return this.isApiResource?this.data.meta.per_page:this.data.per_page},prevPageUrl(){return this.isApiResource?this.data.links.prev:this.data.prev_page_url},to(){return this.isApiResource?this.data.meta.to:this.data.to},total(){return this.isApiResource?this.data.meta.total:this.data.total},pageRange(){if(-1===this.limit)return 0;if(0===this.limit)return this.lastPage;for(var e,t=this.currentPage,a=this.keepLength,i=this.lastPage,s=this.limit,n=t-s,r=t+s,l=2*(s+2),o=2*(s+2)-1,g=[],d=[],c=1;c<=i;c++)(1===c||c===i||c>=n&&c<=r||a&&c<l&&t<l-2||a&&c>i-o&&t>i-o+2)&&g.push(c);return g.forEach((function(t){e&&(t-e===2?d.push(e+1):t-e!==1&&d.push("...")),d.push(t),e=t})),d}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(e){"..."===e||e===this.currentPage||this.$emit("pagination-change-page",e)}},render(){return this.$slots.default({data:this.data,limit:this.limit,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:e=>{e.preventDefault(),this.previousPage()}},nextButtonEvents:{click:e=>{e.preventDefault(),this.nextPage()}},pageButtonEvents:e=>({click:t=>{t.preventDefault(),this.selectPage(e)}})})}},r=(e,t)=>{const a=e.__vccOpts||e;for(const[i,s]of t)a[i]=s;return a};Boolean,Boolean;const l={compatConfig:{MODE:3},inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessPagination:n},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},keepLength:{type:Boolean,default:!1},size:{type:String,default:"default",validator:e=>-1!==["small","default","large"].indexOf(e)},align:{type:String,default:"left",validator:e=>-1!==["left","center","right"].indexOf(e)}},methods:{onPaginationChangePage(e){this.$emit("pagination-change-page",e)}}},o=["tabindex"],g=(0,i._)("span",{"aria-hidden":"true"},"«",-1),d=["aria-current"],c=["tabindex"],u=(0,i._)("span",{"aria-hidden":"true"},"»",-1);function h(e,t,a,n,r,l){const h=(0,i.up)("RenderlessPagination");return(0,i.wg)(),(0,i.j4)(h,{data:a.data,limit:a.limit,"keep-length":a.keepLength,onPaginationChangePage:l.onPaginationChangePage},{default:(0,i.w5)((t=>[t.computed.total>t.computed.perPage?((0,i.wg)(),(0,i.iD)("ul",(0,i.dG)({key:0},e.$attrs,{class:["pagination",{"pagination-sm":"small"==a.size,"pagination-lg":"large"==a.size,"justify-content-center":"center"==a.align,"justify-content-end":"right"==a.align}]}),[t.computed.prevPageUrl||a.showDisabled?((0,i.wg)(),(0,i.iD)("li",{key:0,class:(0,s.C_)(["page-item pagination-prev-nav",{disabled:!t.computed.prevPageUrl}])},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#","aria-label":"Previous",tabindex:!t.computed.prevPageUrl&&-1},(0,i.mx)(t.prevButtonEvents,!0)),[(0,i.WI)(e.$slots,"prev-nav",{},(()=>[g]))],16,o)],2)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.computed.pageRange,((e,a)=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(["page-item pagination-page-nav",{active:e==t.computed.currentPage}]),key:a},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#"},(0,i.mx)(t.pageButtonEvents(e),!0),{"aria-current":e==t.computed.currentPage?"page":null}),(0,s.zw)(e),17,d)],2)))),128)),t.computed.nextPageUrl||a.showDisabled?((0,i.wg)(),(0,i.iD)("li",{key:1,class:(0,s.C_)(["page-item pagination-next-nav",{disabled:!t.computed.nextPageUrl}])},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#","aria-label":"Next",tabindex:!t.computed.nextPageUrl&&-1},(0,i.mx)(t.nextButtonEvents,!0)),[(0,i.WI)(e.$slots,"next-nav",{},(()=>[u]))],16,c)],2)):(0,i.kq)("",!0)],16)):(0,i.kq)("",!0)])),_:3},8,["data","limit","keep-length","onPaginationChangePage"])}const p=r(l,[["render",h]]);Boolean},304:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var i=a(252),s=a(577),n=a(963);const r={class:"container py-5"},l={key:0,class:"text-center my-3"},o=(0,i._)("div",{class:"spinner-border",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),g=[o],d=(0,i._)("h1",{class:"text-center mb-5"},"Category List",-1),c=(0,i._)("i",{class:"fa-solid fa-plus"},null,-1),u={class:"row text-center"},h={class:"col-md-4 py-2"},p={class:"col-md-4 py-2"},m={class:"col-md-4 py-2"},y={class:"input-group mb-3"},f={class:"table table-striped rounded"},P=(0,i._)("thead",null,[(0,i._)("tr",{class:"text-center py-3"},[(0,i._)("th",null,"Id"),(0,i._)("th",null,"Name"),(0,i._)("th")])],-1),_={class:"py-5"},v={class:"py-5"},C={class:"text-center"},x={class:"py-5"},b=["onClick"],k=(0,i._)("i",{class:"fa-solid fa-pen-to-square"},null,-1),w=[k],R=["onClick"],U=(0,i._)("i",{class:"fa-solid fa-trash"},null,-1),A=[U];function D(e,t,a,o,k,U){const D=(0,i.up)("Bootstrap5Pagination");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,[(0,i._)("div",r,[k.loadingStatus?((0,i.wg)(),(0,i.iD)("div",l,g)):(0,i.kq)("",!0),d,(0,i._)("div",null,[(0,i._)("a",{onClick:t[0]||(t[0]=(...e)=>U.goAddCategory&&U.goAddCategory(...e)),class:"btn btn-secondary float-lg-end"},[c,(0,i.Uk)("Add Category")])]),(0,i._)("div",u,[(0,i._)("div",h,"Search Key - "+(0,s.zw)(k.searchKey),1),(0,i._)("div",p,"Total - "+(0,s.zw)(k.categoryCount),1),(0,i._)("div",m,[(0,i._)("div",y,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>k.searchKey=e),type:"text",class:"form-control",placeholder:"Enter Category Name","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[n.nr,k.searchKey]]),(0,i._)("input",{onClick:t[2]||(t[2]=(...e)=>U.searchCategory&&U.searchCategory(...e)),class:"btn btn-secondary",type:"button",id:"button-addon2",value:"Search"})])])]),(0,i._)("table",f,[P,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.categories.data,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{class:"text-center",key:t},[(0,i._)("td",_,[(0,i._)("h3",null,(0,s.zw)(e.id),1)]),(0,i._)("td",v,[(0,i._)("h3",C,(0,s.zw)(e.name),1)]),(0,i._)("td",x,[(0,i._)("a",{onClick:t=>U.goEditCategory(e.id),class:"btn btn-light rounded-circle me-2",title:"Edit"},w,8,b),(0,i._)("a",{onClick:t=>U.deleteCategory(e.id),class:"btn btn-light rounded-circle me-2",title:"Delete"},A,8,R)])])))),128))])]),(0,i._)("div",null,[(0,i.Wm)(D,{data:k.categories,onPaginationChangePage:U.getCategory},null,8,["data","onPaginationChangePage"])])])])])}var B=a(823),S=a(154),$=a(907),E={name:"CategoryListPage",data(){return{searchKey:"",categories:{},loadingStatus:!1,categoryCount:0}},computed:{...(0,$.rn)(["header","user"])},components:{Bootstrap5Pagination:B.Ip},methods:{getCategory(e=1){this.loadingStatus=!0,S.Z.get(`https://alexmedia.alexlucifer.com/api/user/category/main/get?page=${e}`,{headers:this.header}).then((e=>{this.categories=e.data,this.loadingStatus=!1,this.categoryCount=this.categories.length}))},goAddCategory(){this.$router.push({name:"categoryAdd"})},goEditCategory(e){this.$router.push({path:`/edit/category/${e}`})},deleteCategory(e){this.loadingStatus=!0,S.Z.get(`https://alexmedia.alexlucifer.com/api/user/category/delete/${e}`,{headers:this.header}).then((e=>{this.categories=e.data,this.loadingStatus=!1,this.categoryCount=this.categories.length}))},searchCategory(e=1){""!=this.searchKey?(this.loadingStatus=!0,S.Z.get(`https://alexmedia.alexlucifer.com/api/user/category/search/${this.searchKey}?page=${e}`,{headers:this.header}).then((e=>{this.categories=e.data,this.loadingStatus=!1,this.categoryCount=this.categories.length}))):this.getCategory(),this.loadingStatus=!1}},mounted(){this.getCategory()}},K=a(744);const z=(0,K.Z)(E,[["render",D]]);var L=z}}]);
//# sourceMappingURL=304.21d62e3b.js.map