"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[289],{289:function(t,a,e){e.r(a),e.d(a,{default:function(){return ht}});var s=e(252),l=e(577),i=e(963);const o={key:0,class:"text-center my-3"},d=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),n=[d],c={key:1,class:"container-fluid py-5"},r=(0,s._)("h1",{class:"text-center"},"View Post",-1),m={class:"row"},u={class:"col-lg-2"},h={class:"text-center"},g={class:"overflows"},p=["onClick"],_={class:"col-lg-8 shadow my-2 p-5"},w={class:"row my-2"},y={class:"row"},v={class:"col-3"},k=["src"],f={class:"col-8"},x={class:""},b={class:"text-muted"},D={class:"text-muted"},P={key:0},S={class:"btn btn-light"},$=(0,s._)("i",{class:"fa-solid fa-eye me-2"},null,-1),z=["innerHTML"],C={class:"row"},q={class:"col-6"},E={class:"my-2"},L={key:0,class:"fa-solid fa-heart text-danger me-2"},Y={key:1,class:"fa-regular fa-heart me-2"},H={key:0,class:"col-6"},U={class:"float-end"},T=(0,s._)("i",{class:"fa-solid fa-pen-to-square me-2"},null,-1),F={class:"col-lg-2 pe-2"},K=(0,s._)("h1",{class:"text-center"},"Related Post",-1),M={class:"overflows"},V={class:"col-3"},Z=["src"],I={class:"col-9"},R=["onClick"],j={class:"text-dark text-decoration-none"},A={class:"text-muted"},B={class:"row"},G={class:"offset-lg-2 col-lg-8"},J=(0,s._)("h1",null,"Comment",-1),N={class:"row shadow p-3 my-3"},O={class:"col-6 offset-2"},Q={key:2,class:"text-danger"},W={class:"col-2"},X={key:0,class:"text-center my-3"},tt=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),at=[tt],et={key:0,class:"p-3 border rounded my-2 comment"},st={class:"px-2"},lt=(0,s.uE)('<div class="row"><a class="btn btn-light col-2 offset-8 reply"><i class="fa-solid fa-reply"></i>Reply </a><a class="btn btn-light col-2 offset-8 close" style="display:none;"><i class="fa-solid fa-xmark"></i>Close </a></div><div id="reply-box" style="display:none;"><div class="row my-3"><div class="col-6 offset-2"><textarea name="comment" class="form-control" cols="30" rows="1" placeholder="Enter your comment"></textarea></div><div class="col-2"><button class="btn btn-light shadow">Send</button></div></div></div>',2),it={key:0,class:"p-3 border rounded mt-2"},ot={class:"px-2"};function dt(t,a,e,d,tt,dt){return(0,s.wg)(),(0,s.iD)("div",null,[tt.loadingStatus?((0,s.wg)(),(0,s.iD)("div",o,n)):(0,s.kq)("",!0),tt.loadingStatus?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",c,[r,(0,s._)("div",m,[(0,s._)("div",u,[(0,s._)("h1",h,(0,l.zw)(tt.data.post.playlist_name),1),(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(tt.data.playListItem,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("a",{class:"btn btn-outline-dark w-100",onClick:a=>dt.toPostDetail(t.id)},(0,l.zw)(t.Title),9,p)])))),128))])]),(0,s._)("div",_,[(0,s._)("div",w,[(0,s._)("div",y,[(0,s._)("div",v,[(0,s._)("img",{src:tt.data.post.image,class:"card-img w-100"},null,8,k)]),(0,s._)("div",f,[(0,s._)("h4",x,(0,l.zw)(tt.data.post.Title),1),(0,s._)("h5",b,[(0,s.Uk)("by "),(0,s._)("a",null,(0,l.zw)(tt.data.post.user_name),1)]),(0,s._)("p",D,(0,l.zw)(tt.data.post.created_at),1),tt.playlistStatus?((0,s.wg)(),(0,s.iD)("p",P,[(0,s._)("a",null,"("+(0,l.zw)(tt.data.post.playlist_name)+")",1)])):(0,s.kq)("",!0),(0,s._)("div",S,[(0,s._)("a",null,(0,l.zw)(tt.data.post.category_name),1)]),(0,s._)("span",null,[$,(0,s.Uk)((0,l.zw)(tt.data.post.view_count),1)])])]),(0,s._)("div",{class:"",id:"contact",innerHTML:tt.data.post.content},null,8,z),(0,s._)("div",C,[(0,s._)("div",q,[(0,s._)("div",E,[(0,s._)("a",{onClick:a[0]||(a[0]=(...t)=>dt.setlike&&dt.setlike(...t)),class:"btn btn-light"},[tt.data.post.my_like_status?((0,s.wg)(),(0,s.iD)("i",L)):(0,s.kq)("",!0),tt.data.post.my_like_status?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("i",Y)),(0,s.Uk)((0,l.zw)(tt.data.post.like_count),1)])])]),tt.editStatus?((0,s.wg)(),(0,s.iD)("div",H,[(0,s._)("div",U,[(0,s._)("a",{onClick:a[1]||(a[1]=(...t)=>dt.goEditPage&&dt.goEditPage(...t)),class:"btn btn-light shadow"},[T,(0,s.Uk)("Edit")])])])):(0,s.kq)("",!0)])])]),(0,s._)("div",F,[K,(0,s._)("div",M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(tt.data.relatedPost,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a,class:"row my-2 shadow p-2"},[(0,s._)("div",V,[(0,s._)("img",{src:t.image,class:"card-img w-100"},null,8,Z)]),(0,s._)("div",I,[(0,s._)("h5",{onClick:a=>dt.toPostDetail(t.id)},[(0,s._)("a",j,(0,l.zw)(t.Title),1)],8,R),(0,s._)("p",A,"by "+(0,l.zw)(t.user_name),1)])])))),128))])])]),(0,s._)("div",B,[(0,s._)("div",G,[J,(0,s._)("div",N,[(0,s._)("div",O,[tt.commentError?(0,s.kq)("",!0):(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,name:"comment",class:"form-control",cols:"30",rows:"1","onUpdate:modelValue":a[2]||(a[2]=t=>tt.comment=t),placeholder:"Enter your comment"},null,512)),[[i.nr,tt.comment]]),tt.commentError?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:1,name:"comment",class:"form-control is-invalid",cols:"30",rows:"1","onUpdate:modelValue":a[3]||(a[3]=t=>tt.comment=t),placeholder:"Enter your comment"},null,512)),[[i.nr,tt.comment]]):(0,s.kq)("",!0),tt.commentError?((0,s.wg)(),(0,s.iD)("span",Q,"Comment text is required !!!!")):(0,s.kq)("",!0)]),(0,s._)("div",W,[(0,s._)("button",{class:"btn btn-light",onClick:a[4]||(a[4]=(...t)=>dt.sendComment&&dt.sendComment(...t))},"Send"),tt.messageLoadingStatus?((0,s.wg)(),(0,s.iD)("div",X,at)):(0,s.kq)("",!0)])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.data.comments,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[null==t.reply_id?((0,s.wg)(),(0,s.iD)("div",et,[(0,s._)("h5",null,[(0,s._)("a",null,(0,l.zw)(t.user_name),1)]),(0,s._)("p",st,(0,l.zw)(t.comment),1),lt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.data.comments,((a,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e},[t.id==a.reply_id?((0,s.wg)(),(0,s.iD)("div",it,[(0,s._)("h5",null,[(0,s._)("a",null,(0,l.zw)(a.user_name),1)]),(0,s._)("p",ot,(0,l.zw)(a.comment),1)])):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0)])))),128))])])]))])}var nt=e(907),ct=e(154),rt={name:"ViewPost",data(){return{postId:"",data:{},playlistStatus:!1,editStatus:!1,commentError:!1,comment:"",messageLoadingStatus:!1,loadingStatus:!1}},computed:{...(0,nt.rn)(["header","user"])},methods:{getPost(){this.loadingStatus=!0,ct.Z.get(`https://alexmedia.alexlucifer.com/api/user/post/view/${this.$route.params.id}`,{headers:this.header}).then((t=>{this.data=t.data,null!=this.data.post.image?this.data.post.image=`https://alexmedia.alexlucifer.com/storage/${this.data.post.image}`:this.data.post.image="https://alexmedia.alexlucifer.com/image/default.png";let a=new Date(this.data.post.created_at);this.data.post.created_at=`${a.getFullYear()}-${a.getMonth()+1}-${a.getFullYear()}`,null!=this.data.post.playlist_id&&(this.playlistStatus=!0),this.user.id==this.data.post.user_id&&(this.editStatus=!0);for(let e=0;e<this.data.relatedPost.length;e++)null!=this.data.relatedPost[e].image?this.data.relatedPost[e].image=`https://alexmedia.alexlucifer.com/storage/${this.data.relatedPost[e].image}`:this.data.relatedPost[e].image="https://alexmedia.alexlucifer.com/image/default.png";this.loadingStatus=!1}))},setlike(){ct.Z.get(`https://alexmedia.alexlucifer.com/api/user/like/set/${this.$route.params.id}`,{headers:this.header}).then((t=>{this.data=t.data,null!=this.data.post.image?this.data.post.image=`https://alexmedia.alexlucifer.com/storage/${this.data.post.image}`:this.data.post.image="https://alexmedia.alexlucifer.com/image/default.png";let a=new Date(this.data.post.created_at);this.data.post.created_at=`${a.getFullYear()}-${a.getMonth()+1}-${a.getFullYear()}`,null!=this.data.post.playlist_id&&(this.playlistStatus=!0),this.user.id==this.data.post.user_id&&(this.editStatus=!0);for(let e=0;e<this.data.relatedPost.length;e++)null!=this.data.relatedPost[e].image?this.data.relatedPost[e].image=`https://alexmedia.alexlucifer.com/storage/${this.data.relatedPost[e].image}`:this.data.relatedPost[e].image="https://alexmedia.alexlucifer.com/image/default.png";this.loadingStatus=!1}))},toPostDetail(t){this.$router.push({path:`/view/route/${t}`})},sendComment(){this.messageLoadingStatus=!0;let t={comment:this.comment,post_id:this.data.post.id,user_id:this.user.id};""==this.comment||null==this.comment?(this.commentError=!0,this.messageLoadingStatus=!1):ct.Z.post("https://alexmedia.alexlucifer.com/api/user/send/comment",t,{headers:this.header}).then((t=>{this.data.comments=t.data.comment,this.messageLoadingStatus=!1,this.commentError=!1,this.comment=""}))},goEditPage(){this.$router.push({path:`/post/edit/${this.$route.params.id}`})}},created(){this.getPost()}},mt=e(744);const ut=(0,mt.Z)(rt,[["render",dt]]);var ht=ut}}]);
//# sourceMappingURL=289.462653f3.js.map