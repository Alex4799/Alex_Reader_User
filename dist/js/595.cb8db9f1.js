"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[595],{823:function(e,t,a){a.d(t,{Ip:function(){return p}});var s=a(252),i=a(577);const l={emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},keepLength:{type:Boolean,default:!1}},computed:{isApiResource(){return!!this.data.meta},currentPage(){return this.isApiResource?this.data.meta.current_page:this.data.current_page},firstPageUrl(){return this.isApiResource?this.data.links.first:null},from(){return this.isApiResource?this.data.meta.from:this.data.from},lastPage(){return this.isApiResource?this.data.meta.last_page:this.data.last_page},lastPageUrl(){return this.isApiResource?this.data.links.last:null},nextPageUrl(){return this.isApiResource?this.data.links.next:this.data.next_page_url},perPage(){return this.isApiResource?this.data.meta.per_page:this.data.per_page},prevPageUrl(){return this.isApiResource?this.data.links.prev:this.data.prev_page_url},to(){return this.isApiResource?this.data.meta.to:this.data.to},total(){return this.isApiResource?this.data.meta.total:this.data.total},pageRange(){if(-1===this.limit)return 0;if(0===this.limit)return this.lastPage;for(var e,t=this.currentPage,a=this.keepLength,s=this.lastPage,i=this.limit,l=t-i,n=t+i,r=2*(i+2),o=2*(i+2)-1,g=[],d=[],u=1;u<=s;u++)(1===u||u===s||u>=l&&u<=n||a&&u<r&&t<r-2||a&&u>s-o&&t>s-o+2)&&g.push(u);return g.forEach((function(t){e&&(t-e===2?d.push(e+1):t-e!==1&&d.push("...")),d.push(t),e=t})),d}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(e){"..."===e||e===this.currentPage||this.$emit("pagination-change-page",e)}},render(){return this.$slots.default({data:this.data,limit:this.limit,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:e=>{e.preventDefault(),this.previousPage()}},nextButtonEvents:{click:e=>{e.preventDefault(),this.nextPage()}},pageButtonEvents:e=>({click:t=>{t.preventDefault(),this.selectPage(e)}})})}},n=(e,t)=>{const a=e.__vccOpts||e;for(const[s,i]of t)a[s]=i;return a};Boolean,Boolean;const r={compatConfig:{MODE:3},inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessPagination:l},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},keepLength:{type:Boolean,default:!1},size:{type:String,default:"default",validator:e=>-1!==["small","default","large"].indexOf(e)},align:{type:String,default:"left",validator:e=>-1!==["left","center","right"].indexOf(e)}},methods:{onPaginationChangePage(e){this.$emit("pagination-change-page",e)}}},o=["tabindex"],g=(0,s._)("span",{"aria-hidden":"true"},"«",-1),d=["aria-current"],u=["tabindex"],c=(0,s._)("span",{"aria-hidden":"true"},"»",-1);function h(e,t,a,l,n,r){const h=(0,s.up)("RenderlessPagination");return(0,s.wg)(),(0,s.j4)(h,{data:a.data,limit:a.limit,"keep-length":a.keepLength,onPaginationChangePage:r.onPaginationChangePage},{default:(0,s.w5)((t=>[t.computed.total>t.computed.perPage?((0,s.wg)(),(0,s.iD)("ul",(0,s.dG)({key:0},e.$attrs,{class:["pagination",{"pagination-sm":"small"==a.size,"pagination-lg":"large"==a.size,"justify-content-center":"center"==a.align,"justify-content-end":"right"==a.align}]}),[t.computed.prevPageUrl||a.showDisabled?((0,s.wg)(),(0,s.iD)("li",{key:0,class:(0,i.C_)(["page-item pagination-prev-nav",{disabled:!t.computed.prevPageUrl}])},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#","aria-label":"Previous",tabindex:!t.computed.prevPageUrl&&-1},(0,s.mx)(t.prevButtonEvents,!0)),[(0,s.WI)(e.$slots,"prev-nav",{},(()=>[g]))],16,o)],2)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.computed.pageRange,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item pagination-page-nav",{active:e==t.computed.currentPage}]),key:a},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#"},(0,s.mx)(t.pageButtonEvents(e),!0),{"aria-current":e==t.computed.currentPage?"page":null}),(0,i.zw)(e),17,d)],2)))),128)),t.computed.nextPageUrl||a.showDisabled?((0,s.wg)(),(0,s.iD)("li",{key:1,class:(0,i.C_)(["page-item pagination-next-nav",{disabled:!t.computed.nextPageUrl}])},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#","aria-label":"Next",tabindex:!t.computed.nextPageUrl&&-1},(0,s.mx)(t.nextButtonEvents,!0)),[(0,s.WI)(e.$slots,"next-nav",{},(()=>[c]))],16,u)],2)):(0,s.kq)("",!0)],16)):(0,s.kq)("",!0)])),_:3},8,["data","limit","keep-length","onPaginationChangePage"])}const p=n(r,[["render",h]]);Boolean},595:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var s=a(252),i=a(577);const l={class:"container py-5"},n=(0,s._)("h1",{class:"text-center"},"Profile",-1),r={class:"p-3 shadow"},o={key:0,class:"text-center my-3"},g=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),d=[g],u={class:"row"},c={class:"col-lg-3"},h=["src"],p={class:"col-lg-8"},m={class:"mt-4"},P={class:"my-1"},f={class:"my-1 row"},_=(0,s._)("div",{class:"col-lg-6"},[(0,s._)("h5",null,"12M+ Followers")],-1),v={class:"col-lg-6"},y=(0,s._)("i",{class:"fa-solid fa-plus me-2"},null,-1),x=(0,s._)("i",{class:"fa-solid fa-pen-to-square"},null,-1),k={class:"row"},w={class:"col-lg-8 offset-lg-2"},D={class:"row"},b={class:"col-lg-3"},U=["src"],$={class:"col-lg-9"},A=["onClick"],R={class:"text-muted"},C={class:"text-muted"},B={key:0},z=["innerHTML"],M={class:"row"},E={class:"col-6"},L={class:"btn btn-light"},S=(0,s._)("i",{class:"fa-solid fa-eye me-2"},null,-1),q={class:"col-4 offset-2"},O=["onClick"],Y=(0,s._)("i",{class:"fa-solid fa-trash me-2"},null,-1);function j(e,t,a,g,j,F){const G=(0,s.up)("router-link"),H=(0,s.up)("Bootstrap5Pagination");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",l,[n,(0,s._)("div",r,[j.loadingStatus?((0,s.wg)(),(0,s.iD)("div",o,d)):(0,s.kq)("",!0),(0,s._)("div",u,[(0,s._)("div",c,[(0,s._)("img",{src:j.userData.image,class:"w-75 shadow"},null,8,h)]),(0,s._)("div",p,[(0,s._)("div",m,[(0,s._)("h1",null,(0,i.zw)(j.userData.name),1)]),(0,s._)("div",P,[(0,s._)("h4",null,(0,i.zw)(j.userData.email),1)]),(0,s._)("div",f,[_,(0,s._)("div",v,[(0,s._)("a",{onClick:t[0]||(t[0]=(...e)=>F.AddPostPage&&F.AddPostPage(...e)),class:"btn btn-info"},[y,(0,s.Uk)("Add Post")]),(0,s.Wm)(G,{to:"/profile/edit",class:"btn btn-light ms-2"},{default:(0,s.w5)((()=>[x,(0,s.Uk)("Edit Profile")])),_:1})])])])])]),(0,s._)("div",k,[(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(j.myPost.data,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"shadow my-2 p-5",key:t},[(0,s._)("div",D,[(0,s._)("div",b,[(0,s._)("img",{src:e.image,class:"w-100 card-img"},null,8,U)]),(0,s._)("div",$,[(0,s._)("h4",{onClick:t=>F.toPostDetail(e.id)},[(0,s._)("a",null,(0,i.zw)(e.Title),1)],8,A),(0,s._)("h5",R,[(0,s.Uk)("by "),(0,s._)("a",null,(0,i.zw)(e.user_name),1)]),(0,s._)("p",C,(0,i.zw)(e.created_at),1),(0,s._)("p",null,[null!=e.playlist_id?((0,s.wg)(),(0,s.iD)("a",B,"("+(0,i.zw)(e.playlist_name)+")",1)):(0,s.kq)("",!0)]),(0,s._)("p",{class:"",innerHTML:e.content.substr(0,100)},null,8,z),(0,s._)("div",M,[(0,s._)("div",E,[(0,s._)("div",L,[(0,s._)("a",null,(0,i.zw)(e.category_name),1)]),(0,s._)("span",null,[S,(0,s.Uk)((0,i.zw)(e.view_count),1)])]),(0,s._)("div",q,[(0,s._)("button",{onClick:t=>F.deletePost(e.id),class:"btn btn-danger me-2",title:"Delete"},[Y,(0,s.Uk)("Delete")],8,O)])])])])])))),128)),(0,s.Wm)(H,{data:j.myPost,onPaginationChangePage:F.getMyPost},null,8,["data","onPaginationChangePage"])])])])])}var F=a(823),G=a(907),H=a(154),I={name:"ProfilePage",data(){return{userData:{},myPost:{},loadingStatus:!0}},computed:{...(0,G.rn)(["user","header"])},components:{Bootstrap5Pagination:F.Ip},methods:{getUser(){H.Z.get(`https://alexmedia.alexlucifer.com/api/user/get/${this.user.id}`,{headers:this.header}).then((e=>{this.userData=e.data,null==this.userData.image?"male"==this.userData.gender?this.userData.image="https://alexmedia.alexlucifer.com/image/default-male-image.png":this.userData.image="https://alexmedia.alexlucifer.com/image/default-female-image.webp":this.userData.image=`https://alexmedia.alexlucifer.com/storage/${this.userData.image}`}))},getMyPost(e=1){H.Z.get(`https://alexmedia.alexlucifer.com/api/user/mypost/get/${this.user.id}?page=${e}`,{headers:this.header}).then((e=>{this.myPost=e.data;for(let t=0;t<this.myPost.data.length;t++){null!=this.myPost.data[t].image?this.myPost.data[t].image=`https://alexmedia.alexlucifer.com/storage/${this.myPost.data[t].image}`:this.myPost.data[t].image="https://alexmedia.alexlucifer.com/image/default.png";let e=new Date(this.myPost.data[t].created_at);this.myPost.data[t].created_at=`${e.getFullYear()}-${e.getMonth()+1}-${e.getFullYear()}`}this.loadingStatus=!1}))},deletePost(e,t=1){this.loadingStatus=!0,H.Z.get(`https://alexmedia.alexlucifer.com/api/user/post/delete/${e}?page=${t}`,{headers:this.header}).then((e=>{this.myPost=e.data;for(let t=0;t<this.myPost.data.length;t++){null!=this.myPost.data[t].image?this.myPost.data[t].image=`https://alexmedia.alexlucifer.com/storage/${this.myPost.data[t].image}`:this.myPost.data[t].image="https://alexmedia.alexlucifer.com/image/default.png";let e=new Date(this.myPost.data[t].created_at);this.myPost.data[t].created_at=`${e.getFullYear()}-${e.getMonth()+1}-${e.getFullYear()}`}this.loadingStatus=!1}))},AddPostPage(){this.$router.push({name:"AddPost"})},toPostDetail(e){this.$router.push({path:`/post/detail/${e}`})}},beforeMount(){this.getUser()},mounted(){this.getMyPost()}},W=a(744);const Z=(0,W.Z)(I,[["render",j]]);var N=Z}}]);
//# sourceMappingURL=595.cb8db9f1.js.map