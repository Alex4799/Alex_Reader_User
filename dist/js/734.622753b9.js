"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[734],{734:function(e,a,s){s.r(a),s.d(a,{default:function(){return L}});var t=s(252),l=s(963);const i={class:"container py-5"},r=(0,t._)("h1",{class:"text-center"},"Edit Profile",-1),u={key:0,class:"text-center my-3"},m=(0,t._)("div",{class:"spinner-border",role:"status"},[(0,t._)("span",{class:"visually-hidden"},"Loading...")],-1),n=[m],d={key:1,class:"alert alert-success alert-dismissible fade show col-4 offset-8",role:"alert"},o=(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),c={class:"shadow p-5 row"},h={class:"col-4"},g=["src"],p={class:"col-8"},f={class:"mb-3 row"},D=(0,t._)("label",{class:"col-sm-3 col-form-label"},"Name",-1),_={class:"col-sm-9"},b={key:0,class:"text-danger"},x={class:"mb-3 row"},v=(0,t._)("label",{class:"col-sm-3 col-form-label"},"Email",-1),w={class:"col-sm-9"},y={key:0,class:"text-danger"},k={class:"mb-3 row"},q=(0,t._)("label",{class:"col-sm-3 col-form-label"},"Gender",-1),U={class:"col-sm-9"},S=(0,t._)("option",{value:""},"Choose Gender",-1),C=(0,t._)("option",{value:"male"},"Male",-1),E=(0,t._)("option",{value:"female"},"Female",-1),$=[S,C,E],I={key:0,class:"text-danger"},A={class:"float-end"},G=(0,t._)("i",{class:"fa-solid fa-pen-to-square me-2"},null,-1);function N(e,a,s,m,S,C){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",i,[r,S.loadingStatus?((0,t.wg)(),(0,t.iD)("div",u,n)):(0,t.kq)("",!0),S.upSuccessAlert?((0,t.wg)(),(0,t.iD)("div",d,[(0,t.Uk)(" Update Success "),o])):(0,t.kq)("",!0),(0,t._)("div",c,[(0,t._)("div",h,[(0,t._)("img",{src:S.userData.image,class:"w-75 shadow"},null,8,g),(0,t._)("input",{name:"image",type:"file",class:"form-control my-4",onChange:a[0]||(a[0]=(...e)=>C.upload&&C.upload(...e))},null,32)]),(0,t._)("div",p,[(0,t._)("div",f,[D,(0,t._)("div",_,[(0,t.wy)((0,t._)("input",{name:"name",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>S.userData.name=e),class:"form-control",placeholder:"Enter Name"},null,512),[[l.nr,S.userData.name]]),S.status.name?((0,t.wg)(),(0,t.iD)("span",b,"Name is required !!!!!")):(0,t.kq)("",!0)])]),(0,t._)("div",x,[v,(0,t._)("div",w,[(0,t.wy)((0,t._)("input",{name:"email",type:"email","onUpdate:modelValue":a[2]||(a[2]=e=>S.userData.email=e),class:"form-control",placeholder:"Enter Email"},null,512),[[l.nr,S.userData.email]]),S.status.email?((0,t.wg)(),(0,t.iD)("span",y,"Email is required !!!!!")):(0,t.kq)("",!0)])]),(0,t._)("div",k,[q,(0,t._)("div",U,[(0,t.wy)((0,t._)("select",{name:"gender",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>S.userData.gender=e)},$,512),[[l.bM,S.userData.gender]]),S.status.gender?((0,t.wg)(),(0,t.iD)("span",I,"Gender is required !!!!!")):(0,t.kq)("",!0)])]),(0,t._)("div",A,[(0,t._)("button",{class:"btn btn-secondary update",onClick:a[4]||(a[4]=e=>C.update())},[G,(0,t.Uk)("Update")])])])])])])}var V=s(154),Z=s(907),M={name:"EditProfile",data(){return{userData:{},status:{name:!1,email:!1,gender:!1},userImage:null,upSuccessAlert:!1,loadingStatus:!1}},computed:{...(0,Z.rn)(["user","header"])},components:{},methods:{getUser(){V.Z.get(`https://alexmedia.alexlucifer.com/api/user/get/${this.user.id}`,{headers:this.header}).then((e=>{this.userData=e.data,null==this.userData.image?"male"==this.userData.gender?this.userData.image="https://alexmedia.alexlucifer.com/image/default-male-image.png":this.userData.image="https://alexmedia.alexlucifer.com/image/default-female-image.webp":this.userData.image=`https://alexmedia.alexlucifer.com/storage/${this.userData.image}`}))},update(){if(this.loadingStatus=!0,""==this.userData.name&&(this.status.name=!0),""==this.userData.email&&(this.status.email=!0),""==this.userData.gender&&(this.status.gender=!0),0==this.status.name&&0==this.status.email&&0==this.status.gender){const e={user:this.userData,userImage:this.userImage};this.header["Content-Type"]="multipart/form-data",V.Z.post(`https://alexmedia.alexlucifer.com/api/user/update/${this.userData.id}`,e,{headers:this.header}).then((e=>{this.userData=e.data,null==this.userData.image?"male"==this.userData.gender?this.userData.image="https://alexmedia.alexlucifer.com/image/default-male-image.png":this.userData.image="https://alexmedia.alexlucifer.com/image/default-female-image.webp":this.userData.image=`https://alexmedia.alexlucifer.com/storage/${this.userData.image}`,this.loadingStatus=!1,this.upSuccessAlert=!0,this.$router.push({name:"profile"})}))}},upload(e){this.userImage=e.target.files[0]}},mounted(){this.getUser()}},P=s(744);const F=(0,P.Z)(M,[["render",N]]);var L=F}}]);
//# sourceMappingURL=734.622753b9.js.map