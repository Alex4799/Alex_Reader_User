"use strict";(self["webpackChunkalex_media_user"]=self["webpackChunkalex_media_user"]||[]).push([[395],{395:function(t,a,e){e.r(a),e.d(a,{default:function(){return G}});var o=e(252),s=e(963),l=e(577);const i={key:0,class:"text-center my-3"},d=(0,o._)("div",{class:"spinner-border",role:"status"},[(0,o._)("span",{class:"visually-hidden"},"Loading...")],-1),r=[d],n={key:1,class:"container py-5"},c=(0,o._)("h1",{class:"text-center"},"Edit Post",-1),u={key:0,class:"text-center my-3"},p=(0,o._)("div",{class:"spinner-border",role:"status"},[(0,o._)("span",{class:"visually-hidden"},"Loading...")],-1),g=[p],m={class:"shadow p-5 row"},h={class:"col-4"},y=["src"],_={class:"col-8"},w={class:"mb-3 row"},v=(0,o._)("label",{class:"col-sm-3 col-form-label"},"Title",-1),f={class:"col-sm-9"},k={key:2,class:"text-danger"},b={class:"mb-3 row"},D=(0,o._)("label",{class:"col-sm-3 col-form-label"},"Category",-1),x={class:"col-sm-9"},E=(0,o._)("option",{value:""},"Choose Category",-1),C=["value","id"],q=(0,o._)("option",{value:"null"},"Choose Category",-1),S=["value","id"],P={key:2,class:"text-danger"},$={class:"mb-3 row"},U=(0,o._)("label",{class:"col-sm-3 col-form-label"},"PlayList",-1),V={class:"col-sm-9"},T=(0,o._)("option",{value:"null"},"Choose PlayList",-1),L=["value","id"],Y={class:"mb-3 row"},M={key:0,class:"text-danger"},z={class:"float-end"},H=(0,o._)("i",{class:"fa-solid fa-plus me-2"},null,-1);function K(t,a,e,d,p,K){const Z=(0,o.up)("ckeditor");return(0,o.wg)(),(0,o.iD)("div",null,[p.loadingStatus1?((0,o.wg)(),(0,o.iD)("div",i,r)):(0,o.kq)("",!0),p.loadingStatus1?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",n,[c,p.loadingStatus?((0,o.wg)(),(0,o.iD)("div",u,g)):(0,o.kq)("",!0),(0,o._)("div",m,[(0,o._)("div",h,[(0,o._)("div",null,[(0,o._)("img",{src:p.data.post.image,class:"w-75 shadow"},null,8,y),(0,o._)("input",{name:"image",type:"file",class:"form-control my-4",onChange:a[0]||(a[0]=(...t)=>K.uploadPhoto&&K.uploadPhoto(...t))},null,32)])]),(0,o._)("div",_,[(0,o._)("div",w,[v,(0,o._)("div",f,[p.titleError?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,name:"title",type:"text",class:"form-control",placeholder:"Enter title","onUpdate:modelValue":a[1]||(a[1]=t=>p.data.post.Title=t)},null,512)),[[s.nr,p.data.post.Title]]),p.titleError?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,name:"title",type:"text",class:"form-control is-invalid",placeholder:"Enter title","onUpdate:modelValue":a[2]||(a[2]=t=>p.data.post.Title=t)},null,512)),[[s.nr,p.data.post.Title]]):(0,o.kq)("",!0),p.titleError?((0,o.wg)(),(0,o.iD)("span",k,"Title is required")):(0,o.kq)("",!0)])]),(0,o._)("div",b,[D,(0,o._)("div",x,[p.categoryError?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:0,name:"category_id",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=t=>p.data.post.category_id=t)},[E,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.data.categories,((t,a)=>((0,o.wg)(),(0,o.iD)("option",{key:a,value:t.id,id:t.id},(0,l.zw)(t.name),9,C)))),128))],512)),[[s.bM,p.data.post.category_id]]),p.categoryError?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:1,name:"category_id",class:"form-control is-invalid","onUpdate:modelValue":a[4]||(a[4]=t=>p.data.post.category_id=t)},[q,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.data.categories,((t,a)=>((0,o.wg)(),(0,o.iD)("option",{key:a,value:t.id,id:t.id},(0,l.zw)(t.name),9,S)))),128))],512)),[[s.bM,p.data.post.category_id]]):(0,o.kq)("",!0),p.categoryError?((0,o.wg)(),(0,o.iD)("span",P,"Category is required")):(0,o.kq)("",!0)])]),(0,o._)("div",$,[U,(0,o._)("div",V,[(0,o.wy)((0,o._)("select",{name:"category_id",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=t=>p.data.post.playlist_id=t)},[T,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.data.playLists,((t,a)=>((0,o.wg)(),(0,o.iD)("option",{key:a,value:t.id,id:t.id},(0,l.zw)(t.name),9,L)))),128))],512),[[s.bM,p.data.post.playlist_id]])])]),(0,o._)("div",Y,[(0,o.Wm)(Z,{editor:p.editor,modelValue:p.data.post.content,"onUpdate:modelValue":a[6]||(a[6]=t=>p.data.post.content=t),config:p.editorConfig},null,8,["editor","modelValue","config"]),p.contentError?((0,o.wg)(),(0,o.iD)("span",M,"Content is required")):(0,o.kq)("",!0)]),(0,o._)("div",z,[(0,o._)("button",{class:"btn btn-secondary",type:"button",onClick:a[7]||(a[7]=(...t)=>K.update&&K.update(...t))},[H,(0,o.Uk)("Update")])])])])]))])}var Z=e(907),F=e(154),I=e(234),A=e.n(I),W={name:"AddPostPage",data(){return{editor:A(),editorData:"<p>Content of the editor.</p>",editorConfig:{},loadingStatus:!1,loadingStatus1:!1,titleError:!1,categoryError:!1,contentError:!1,updateImage:null,data:{}}},computed:{...(0,Z.rn)(["header","user"])},methods:{getPost(){this.loadingStatus1=!0,F.Z.get(`https://alexmedia.alexlucifer.com/api/user/post/edit/${this.$route.params.id}`,{headers:this.header}).then((t=>{this.data=t.data,null!=this.data.post.image?this.data.post.image=`https://alexmedia.alexlucifer.com/storage/${this.data.post.image}`:this.data.post.image="https://alexmedia.alexlucifer.com/image/default.png";let a=new Date(this.data.post.created_at);this.data.post.created_at=`${a.getFullYear()}-${a.getMonth()+1}-${a.getFullYear()}`,this.loadingStatus1=!1}))},uploadPhoto(t){this.data.post.updateImage=t.target.files[0]},update(){this.loadingStatus=!0,""==this.data.post.Title?(this.titleError=!0,this.loadingStatus=!1):""==this.data.post.category_id?(this.categoryError=!0,this.loadingStatus=!1):""==this.data.post.content?(this.contentError=!0,this.loadingStatus=!1):F.Z.post("https://alexmedia.alexlucifer.com/api/user/post/update",this.data.post,{headers:this.header}).then((t=>{t.data.status&&this.$router.push({path:`/post/detail/${this.$route.params.id}`})}))}},created(){this.getPost()}},j=e(744);const B=(0,j.Z)(W,[["render",K]]);var G=B}}]);
//# sourceMappingURL=395.97d25f18.js.map